<!DOCTYPE html><html><head><meta charset="utf-8"><title>NugetXray - Be proactive in keeping your versions up to date | Naeem Khedarun</title><meta name="author" content="Naeem Khedarun"><meta name="description" content="The package management features within Visual Studio are fantastic when working within a single solution. It lets you know when there are new packages"><meta name="viewport" content="width=device-width,initial-scale=1"><meta property="og:title" content="NugetXray - Be proactive in keeping your versions up to date"><meta property="og:site_name" content="Naeem Khedarun"><meta property="og:image" content="http://naeem.khedarun.co.uk/blog/images/code-cover.png"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://naeem.khedarun.co.uk/blog/images/code-cover.png"><meta property="og:url" content="http://naeem.khedarun.co.uk/blog/blog/2017/04/03/nugetxray-be-proactive-in-keeping-your-versions-up-to-date-1491218032473/"><meta name="twitter:site" content="@NaeemKhedarun"><meta name="twitter:creator" content="@NaeemKhedarun"><meta name="twitter:title" content="NugetXray - Be proactive in keeping your versions up to date"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png"><link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png"><link rel="alternate" href="/blog/atom.xml" title="Naeem Khedarun" type="application/atom+xml"><link rel="stylesheet" href="/css/all-de3b3b87da.min.css"><script type="text/javascript" src="https://www.google.com/jsapi?autoload={'modules':[{'name':'visualization','version':'1','packages':['corechart']}]}"></script></head><body><div id="wrap"><div class="navbar navbar-static-top" role="navigation"><div class="container"><div class="col-12 navbar-center"><a href="/blog/"><span class="name-brand">Naeem Khedarun</span></a> <span class="navbar-spacer"></span> <span><a href="https://twitter.com/naeemkhedarun"><i class="fa fa-twitter"></i></a> <a href="https://github.com/naeemkhedarun"><i class="fa fa-github"></i></a> <a href="https://uk.linkedin.com/in/naeemkhedarun"><i class="fa fa-linkedin-square"></i></a> <a href="/blog/atom.xml"><i class="fa fa-rss"></i></a></span></div></div></div><div class="container"><div class="row"><div class="col-12 col-md-12"><h1 class="title">NugetXray - Be proactive in keeping your versions up to date</h1><i>4 minutes ago</i><p></p><p>The package management features within Visual Studio are fantastic when working within a single solution. It lets you know when there are new packages available and you are referencing multiple versions of the same package. There are some scenarios which could be improved:</p><ul><li>It’s easy to forget to check whether there are new versions.</li><li>Solutions composed of packages output by different repositories.</li></ul><p>Some of our applications have code distributed across different repositories and packages. Since these are different solutions its difficult to use existing tools to detect when these packages are getting out of sync. <a href="https://github.com/naeemkhedarun/NugetXray" target="_blank" rel="external">NugetXray</a> has commands to do just that.</p><p>It’s available at <a href="nuget.org">https://www.nuget.org/packages/NugetXray/</a>.</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">nuget install NugetXray</div></pre></td></tr></table></figure><p>There are currently two commands: one to find out of date packages and another to find package version mismatches.</p><p>To generate a diff report:</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">.\NugetXray.exe diff -d C:\git\source\</div><div class="line"></div><div class="line">Scanning https://www.nuget.org/api/v2 for packages.configs.</div><div class="line">WindowsAzure.Storage.2.1.0.4                                           | -5.0.0      | 3   configs</div><div class="line">Newtonsoft.Json.6.0.8                                                  | -3.0.0      | 4   configs</div><div class="line">WindowsAzure.Storage.4.3.0                                             | -3.0.0      | 1   configs</div></pre></td></tr></table></figure><p>This shows us how many major, minor or patch versions we are behind by. You can generate a report across multiple repositories by setting the directory parameter to the root of both repositories.</p><p>You can also output either json or html if you want to build further tooling around it. The html report can included as a <a href="https://confluence.jetbrains.com/display/TCD8/Including+Third-Party+Reports+in+the+Build+Results" target="_blank" rel="external">third party teamcity report</a>.</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">.\NugetXray.exe diff -d C:\git\source\ -f html -o diff.html</div></pre></td></tr></table></figure><p><img src="/blog/images/nx-diff.png" alt=""></p><p>To find whether you have multiple versions of the same package, you can run the duplicate command.</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">.\NugetXray.exe duplicate -d C:\git\ConveyorBelt\</div><div class="line"></div><div class="line">Scanning C:\git\ConveyorBelt\ for packages.configs.</div><div class="line">WindowsAzure.Storage                                                   | 2 versions</div><div class="line"></div><div class="line">Errors:   1</div></pre></td></tr></table></figure><p>As before you can include multiple solutions under a single root directory to find duplicates across solutions. It also supports both Json and Html output.</p><p>If you want to integrate it with your build process, and fail when there are packages which need updating or consolidating, you can use the exit code. If calling from PowerShell you can get by calling <code>$LASTEXITCODE</code>. A negative exit code is returned to indicate there are results.</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">.\NugetXray.exe diff -d C:\git\source\</div><div class="line">$LASTEXITCODE</div><div class="line">-1</div></pre></td></tr></table></figure><p>If you have any feedback or feature requests you can create an <a href="https://github.com/naeemkhedarun/NugetXray/issues" target="_blank" rel="external">issue</a> or reach me <a href="https://twitter.com/naeemkhedarun" target="_blank" rel="external">@naeemkhedarun</a>.</p><p></p><div class="categories"><span>Posted in: </span><a href="/blog/categories/development/">development</a></div><div class="tags"><span>Tagged with: </span><a href="/blog/tags/C/">C#</a>, <a href="/blog/tags/powershell/">powershell</a>, <a href="/blog/tags/nuget/">nuget</a></div><br><hr><div class="row"><div class="col-md-12"><h3>Comments</h3><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div></div></div></div><div id="push"></div></div><div id="footer"><div class="container"><div class="container"><br><p class="muted credit">&copy; 2017 Naeem Khedarun</p></div></div></div><script src="/js/all-8d7c4a0adc.min.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-71815871-1', 'auto');
ga('send', 'pageview');</script><script type="text/javascript">var disqus_shortname = 'naeemkhedarun';
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());</script></body></html>